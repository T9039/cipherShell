<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CipherShell // Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='themes.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "JetBrains Mono", monospace;
        background-color: #000;
        margin: 0;
        height: 100vh;
        overflow: hidden;
        background-image: url("{{ url_for('static', filename='backgrounds/dark/001.jpg') }}");
        background-size: cover;
        background-position: center;
      }

      #terminal-container {
        width: 100%;
        height: 100%;
        background-color: color-mix(in srgb, var(--base), transparent 40%);
        backdrop-filter: blur(5px);
        padding: 2rem;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        cursor: text;
      }

      /* Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--overlay);
        border-radius: 4px;
      }

      /* Input Area */
      #input-line {
        display: flex;
        align-items: center;
        margin-top: 0.5rem;
        width: 100%;
      }

      #cmd-input {
        background: transparent;
        border: none;
        color: var(--text);
        font-family: inherit;
        font-size: 1rem;
        flex-grow: 1;
        outline: none;
        caret-color: var(--accent);
        padding: 0; /* Ensure no padding throws off alignment */
      }

      /* Utilities */
      .prompt-path {
        color: var(--accent2);
        font-weight: bold;
      }
      .prompt-arrow {
        color: var(--green);
        font-weight: bold;
      }
      .prompt-branch {
        color: var(--overlay);
      }
      .success-msg {
        color: var(--green);
      }
      .error-msg {
        color: var(--red);
      }
      .info-msg {
        color: var(--accent);
      }

      /* Icon Class for 'theme list' command */
      .cli-theme-icon {
        width: 1rem;
        height: 1rem;
        background-color: var(--text);
        -webkit-mask: var(--theme-icon) no-repeat center / contain;
        mask: var(--theme-icon) no-repeat center / contain;
      }
    </style>
  </head>
  <body onclick="document.getElementById('cmd-input').focus()">
    <div
      id="terminal-wrapper"
      style="
        width: 100%;
        height: 100%;
        background-color: color-mix(in srgb, var(--base), transparent 10%);
        backdrop-filter: blur(8px);
        display: flex;
        flex-direction: column;
      "
    >
      <div
        class="shrink-0 px-8 pt-8 pb-4 select-none flex flex-col items-center text-center"
      >
        <pre
          id="ascii-logo"
          class="text-[var(--accent)] font-bold mb-4 leading-none whitespace-pre select-none text-left inline-block transition-all duration-1000 ease-in-out"
        ></pre>
        <div class="text-[var(--text)] font-medium text-sm">
          <div class="mb-1">> Welcome to CipherShell v2.0 (CLI Edition)</div>
          <div>
            > Type <span class="text-[var(--green)] font-bold">'help'</span> to
            see available commands.
          </div>
        </div>
      </div>

      <div
        id="terminal-scroll-area"
        class="flex-grow overflow-y-auto px-8 pb-8 pt-4"
      >
        <div id="history"></div>

        <div id="input-line" class="flex items-center mt-2">
          <span class="prompt-path text-[var(--accent2)] font-bold"
            >~/ciphershell</span
          >
          <span class="prompt-branch text-[var(--overlay)]"> (main)</span>
          <span class="prompt-arrow text-[var(--green)] font-bold ml-2">âžœ</span>

          <div class="relative flex-grow ml-2">
            <input
              type="text"
              id="cmd-ghost"
              disabled
              class="absolute top-0 left-0 w-full bg-transparent border-none text-[var(--overlay)] opacity-40 font-inherit text-base pointer-events-none z-0 p-0"
            />

            <input
              type="text"
              id="cmd-input"
              autocomplete="off"
              spellcheck="false"
              name="cmd_terminal_interact"
              class="relative z-10 w-full bg-transparent border-none text-[var(--text)] outline-none caret-[var(--accent)] font-inherit text-base p-0"
              autofocus
            />
          </div>

          <div
            id="terminal-clock"
            class="text-[var(--text)] font-mono text-m opacity-70 ml-4 select-none shrink-0"
          >
            --:--:--
          </div>
        </div>

        <div
          id="suggestion-grid"
          class="grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1 ml-6 mt-1 mb-2 text-xs text-[var(--overlay)] font-mono font-bold empty:hidden"
        ></div>
      </div>
    </div>

    <script src="{{ url_for('static', filename='terminal.js') }}"></script>
    <script src="{{ url_for('static', filename='logos.js') }}"></script>
    <script src="{{ url_for('static', filename='animations.js') }}"></script>
  </body>
</html>
